new scheduler implemented in proc.c